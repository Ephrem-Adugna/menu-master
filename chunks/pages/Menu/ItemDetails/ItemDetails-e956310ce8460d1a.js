(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{2987:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Menu/ItemDetails/ItemDetails",function(){return n(1762)}])},1762:function(e,t,n){"use strict";n.r(t);var a=n(5893),i=n(1477),r=n.n(i),s=n(9332),l=n(7294),c=n(3299),o=n(5675),m=n.n(o),u=n(9355),d=n(5400);t.default=e=>{let{data:t,status:n}=(0,c.useSession)(),[i,o]=(0,l.useState)({}),[p,_]=(0,l.useState)(!1),h=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});if((0,s.useRouter)(),(0,l.useEffect)(()=>{e||e.goToMenu(),console.log(t),function(){let t=(0,u.iH)((0,u.N8)());(0,u.U2)((0,u.iU)(t,"menu/".concat(null==e?void 0:e.id))).then(e=>{e.exists()&&o(e.val())}).catch(e=>{console.error(e)})}()},[]),i){var v,N;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(r().paymentAlert," ").concat(p&&r().visible),children:[(0,a.jsx)("span",{className:r().cancelButton,onClick:()=>{_(!1)},children:"X"}),(0,a.jsx)("span",{className:r().placeOrderTitle,children:"Place Order"}),(0,a.jsx)(d.default,{cost:i.itemPrice,itemId:null==e?void 0:e.id,email:null==t?void 0:null===(v=t.user)||void 0===v?void 0:v.email,name:null==t?void 0:null===(N=t.user)||void 0===N?void 0:N.name})]}),p&&(0,a.jsx)("div",{className:r().alertCover}),(0,a.jsxs)("div",{className:r().itemContainer,children:[(0,a.jsx)(m(),{className:r().itemImage,src:i.itemFile,width:300,height:400,alt:"foodimg"}),(0,a.jsxs)("div",{className:r().itemDetailsContainer,children:[(0,a.jsxs)("span",{className:r().itemName,children:[i.itemName," - ",h.format(i.itemPrice)]}),(0,a.jsx)("span",{className:r().itemPrice}),(0,a.jsx)("span",{className:r().itemDescription,children:i.itemDescription}),i.available&&(0,a.jsx)("span",{className:r().placeOrderBtn,onClick:()=>{_(!0)},children:"Place Order"}),!i.available&&(0,a.jsx)("span",{className:r().unavailableBtn,children:"Item Unavailable"})]})]})]})}return(0,a.jsx)(a.Fragment,{children:"Item Not Found"})}},5400:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a=n(5893),i=n(7294),r=n(5021),s=n(9332),l=n(9355),c=n(9848),o=n.n(c),m=n(6154);let u=e=>m.Z.post("http://apilayer.net/api/validate?access_key=".concat("a6ba5ed0c334a1a1b8dc3410d52a7de8","&number=").concat(e,"&country_code=US& format = 1")),d={layout:"vertical"},p=e=>{let{currency:t,showSpinner:n,cost:c,formData:m,name:p,email:_,id:h}=e,[{options:v,isPending:N},f]=(0,r.Up)(),b=(0,s.useRouter)(),[x,D]=(0,i.useState)(!1),[j,I]=(0,i.useState)(!1),[y,g]=(0,i.useState)(""),[S,P]=(0,i.useState)("");return((0,i.useEffect)(()=>{f({type:"resetOptions",value:{...v,currency:t}})},[t,n]),x)?(0,a.jsxs)(a.Fragment,{children:[n&&N&&(0,a.jsx)("div",{className:"spinner"}),(0,a.jsx)(r.ch,{style:d,disabled:!1,forceReRender:[c,t,d],fundingSource:"card",createOrder:(e,n)=>n.order.create({purchase_units:[{amount:{currency_code:t,value:c}}],application_context:{shipping_preference:"NO_SHIPPING"}}).then(e=>e),onApprove:function(){!function(){let e=(0,l.N8)(),t=(0,l.VF)((0,l.iU)((0,l.iH)(e),"orders")).key,n={};var a=Math.floor(1e3+9e3*Math.random());sessionStorage.setItem("order",t);let i=(0,l.iH)((0,l.N8)());(0,l.U2)((0,l.iU)(i,"menu/".concat(h))).then(i=>{if(i.exists()){var r=i.val().itemName;n["/orders/"+t]={itemName:r,code:a,item:h,customerEmail:_,customerName:p,timestamp:function(){let e=new Date,t=e.getHours(),n=e.getMinutes(),a=t>=12?"PM":"AM";t=t%12||12;let i="".concat(t,":").concat(n<10?"0".concat(n):n," ").concat(a);return i}(),status:0,phoneNumber:S},(0,l.Vx)((0,l.iH)(e),n)}}).catch(e=>{console.error(e)})}(),b.push("/Menu/Order/Order")}})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!y.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)){I(!0);return}u(y).then(e=>{if((null===(n=e.data)||void 0===n?void 0:n.success)==!1||(null===(a=e.data)||void 0===a?void 0:a.valid)==!1){I(!0);return}I(!1);let t=e.data.carrier;var n,a,i="";t.includes("AT&T")?i="@mms.att.net":t.includes("Boost Mobile")?i="@myboostmobile.com":t.includes("Cricket")?i="@mms.cricketwireless.net":t.includes("Sprint")?i="@pm.sprint.com":t.includes("T-Mobile")?i="@tmomail.net":t.includes("U.S. Cellular")?i="@mms.uscc.net":t.includes("Verizon")&&(i="@vzwpix.com"),P(y+i),D(!0)})},children:[(0,a.jsx)("label",{className:o().phoneNumberTitle,children:"Enter your Phone Number"}),(0,a.jsx)("input",{value:y,onChange:e=>{g(e.nativeEvent.target.value)},minLength:10,required:!0,className:o().phoneNumberInput,type:"number",placeholder:"Phone Number"}),(0,a.jsx)("input",{type:"submit",value:"Save",className:o().saveButton}),j&&(0,a.jsx)("span",{className:o().phoneNumberError,children:"Please use a valid phone number"}),"        "]})})};function _(e){let{cost:t,email:n,itemId:i,name:s}=e;return(0,a.jsx)("div",{style:{maxWidth:"750px",minHeight:"200px"},children:(0,a.jsx)(r.Vv,{options:{clientId:"AeY9DHNCVGTwXr1Of5PKZd9LcLFMC-Z2ODsqdU-LMcfhjmLYFusLBs1M3UQ29wUuD2hasUtxHNnhdFLv",components:"buttons",currency:"USD"},children:(0,a.jsx)(p,{currency:"USD",showSpinner:!0,cost:t,formData:{},email:n,id:i,name:s})})})}},1477:function(e){e.exports={itemImage:"ItemDetails_itemImage__69mnf",itemDetailsContainer:"ItemDetails_itemDetailsContainer__enzGN",itemContainer:"ItemDetails_itemContainer__zrGRe",itemName:"ItemDetails_itemName__3R5ld",itemDescription:"ItemDetails_itemDescription__0gIP4",placeOrderBtn:"ItemDetails_placeOrderBtn__6CN4m",alertCover:"ItemDetails_alertCover__1i9sn",paymentAlert:"ItemDetails_paymentAlert__1Sjd8",placeOrderTitle:"ItemDetails_placeOrderTitle__wzmP3",cancelButton:"ItemDetails_cancelButton__XdmA7",unavailableBtn:"ItemDetails_unavailableBtn__BEN_0",visible:"ItemDetails_visible__04vCq"}},9848:function(e){e.exports={phoneNumberTitle:"Payment_phoneNumberTitle__wMgO5",phoneNumberInput:"Payment_phoneNumberInput___wdE0",saveButton:"Payment_saveButton__g8PkG",phoneNumberError:"Payment_phoneNumberError__mS2M0"}}},function(e){e.O(0,[345,675,774,888,179],function(){return e(e.s=2987)}),_N_E=e.O()}]);