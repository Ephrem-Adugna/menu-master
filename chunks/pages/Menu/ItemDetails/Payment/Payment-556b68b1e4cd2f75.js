(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{7706:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Menu/ItemDetails/Payment/Payment",function(){return n(5400)}])},5400:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(5893),a=n(7294),s=n(5021),u=n(9332),o=n(9355),c=n(9848),i=n.n(c),l=n(6154);let m=e=>l.Z.post("http://apilayer.net/api/validate?access_key=".concat("a6ba5ed0c334a1a1b8dc3410d52a7de8","&number=").concat(e,"&country_code=US& format = 1")),d={layout:"vertical"},p=e=>{let{currency:t,showSpinner:n,cost:c,formData:l,name:p,email:h,id:_}=e,[{options:v,isPending:N},f]=(0,s.Up)(),b=(0,u.useRouter)(),[y,x]=(0,a.useState)(!1),[P,S]=(0,a.useState)(!1),[w,M]=(0,a.useState)(""),[g,j]=(0,a.useState)("");return((0,a.useEffect)(()=>{f({type:"resetOptions",value:{...v,currency:t}})},[t,n]),y)?(0,r.jsxs)(r.Fragment,{children:[n&&N&&(0,r.jsx)("div",{className:"spinner"}),(0,r.jsx)(s.ch,{style:d,disabled:!1,forceReRender:[c,t,d],fundingSource:"card",createOrder:(e,n)=>n.order.create({purchase_units:[{amount:{currency_code:t,value:c}}],application_context:{shipping_preference:"NO_SHIPPING"}}).then(e=>e),onApprove:function(){!function(){let e=(0,o.N8)(),t=(0,o.VF)((0,o.iU)((0,o.iH)(e),"orders")).key,n={};var r=Math.floor(1e3+9e3*Math.random());sessionStorage.setItem("order",t);let a=(0,o.iH)((0,o.N8)());(0,o.U2)((0,o.iU)(a,"menu/".concat(_))).then(a=>{if(a.exists()){var s=a.val().itemName;n["/orders/"+t]={itemName:s,code:r,item:_,customerEmail:h,customerName:p,timestamp:function(){let e=new Date,t=e.getHours(),n=e.getMinutes(),r=t>=12?"PM":"AM";t=t%12||12;let a="".concat(t,":").concat(n<10?"0".concat(n):n," ").concat(r);return a}(),status:0,phoneNumber:g},(0,o.Vx)((0,o.iH)(e),n)}}).catch(e=>{console.error(e)})}(),b.push("/Menu/Order/Order")}})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!w.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)){S(!0);return}m(w).then(e=>{if((null===(n=e.data)||void 0===n?void 0:n.success)==!1||(null===(r=e.data)||void 0===r?void 0:r.valid)==!1){S(!0);return}S(!1);let t=e.data.carrier;var n,r,a="";t.includes("AT&T")?a="@mms.att.net":t.includes("Boost Mobile")?a="@myboostmobile.com":t.includes("Cricket")?a="@mms.cricketwireless.net":t.includes("Sprint")?a="@pm.sprint.com":t.includes("T-Mobile")?a="@tmomail.net":t.includes("U.S. Cellular")?a="@mms.uscc.net":t.includes("Verizon")&&(a="@vzwpix.com"),j(w+a),x(!0)})},children:[(0,r.jsx)("label",{className:i().phoneNumberTitle,children:"Enter your Phone Number"}),(0,r.jsx)("input",{value:w,onChange:e=>{M(e.nativeEvent.target.value)},minLength:10,required:!0,className:i().phoneNumberInput,type:"number",placeholder:"Phone Number"}),(0,r.jsx)("input",{type:"submit",value:"Save",className:i().saveButton}),P&&(0,r.jsx)("span",{className:i().phoneNumberError,children:"Please use a valid phone number"}),"        "]})})};function h(e){let{cost:t,email:n,itemId:a,name:u}=e;return(0,r.jsx)("div",{style:{maxWidth:"750px",minHeight:"200px"},children:(0,r.jsx)(s.Vv,{options:{clientId:"AeY9DHNCVGTwXr1Of5PKZd9LcLFMC-Z2ODsqdU-LMcfhjmLYFusLBs1M3UQ29wUuD2hasUtxHNnhdFLv",components:"buttons",currency:"USD"},children:(0,r.jsx)(p,{currency:"USD",showSpinner:!0,cost:t,formData:{},email:n,id:a,name:u})})})}},9848:function(e){e.exports={phoneNumberTitle:"Payment_phoneNumberTitle__wMgO5",phoneNumberInput:"Payment_phoneNumberInput___wdE0",saveButton:"Payment_saveButton__g8PkG",phoneNumberError:"Payment_phoneNumberError__mS2M0"}}},function(e){e.O(0,[345,774,888,179],function(){return e(e.s=7706)}),_N_E=e.O()}]);